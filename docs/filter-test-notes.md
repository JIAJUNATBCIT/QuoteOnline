# 询价列表筛选功能测试

## 功能概述
为询价列表添加了状态和日期范围筛选功能，用户可以通过以下条件对询价记录进行筛选：

1. **状态筛选** - 根据询价单的状态进行筛选
2. **日期范围筛选** - 根据创建时间的开始和结束日期进行筛选
3. **搜索功能** - 保留原有的搜索功能
4. **清除筛选** - 一键清除所有筛选条件

## 新增功能特性

### 1. 状态筛选选项
- 全部状态
- 待处理 (pending)
- 处理中 (in_progress)
- 核价中 (supplier_quoted)
- 已报价 (quoted)
- 不报价 (rejected)

### 2. 日期范围筛选
- 开始日期：筛选创建时间 >= 选择的开始日期
- 结束日期：筛选创建时间 <= 选择的结束日期

### 3. 筛选控件UI
- 状态下拉选择框
- 开始日期输入框
- 结束日期输入框
- 清除筛选按钮（仅在有筛选条件时显示）
- 响应式设计，移动端友好

### 4. 交互特性
- 筛选条件变化时自动更新列表
- 筛选区域在激活状态下有视觉反馈
- 清除筛选按钮带有旋转动画
- 分页自动重置到第一页

## 代码修改

### TypeScript组件修改
```typescript
// 新增属性
selectedStatus = '';
dateRange = { start: '', end: '' };
statusOptions = [
  { value: '', label: '全部状态' },
  { value: 'pending', label: '待处理' },
  { value: 'in_progress', label: '处理中' },
  { value: 'supplier_quoted', label: '核价中' },
  { value: 'quoted', label: '已报价' },
  { value: 'rejected', label: '不报价' }
];

// 新增方法
onStatusChange() { ... }
onDateRangeChange() { ... }
clearFilters() { ... }
hasActiveFilters(): boolean { ... }

// 修改方法
applyFiltersAndSort() {
  // 添加状态筛选逻辑
  // 添加日期范围筛选逻辑
}
```

### HTML模板修改
- 添加筛选控件区域
- 集成到现有的搜索和操作区域
- 响应式布局设计

### 样式增强
- 添加筛选控件样式
- 激活状态的视觉反馈
- 移动端响应式优化
- 动画和过渡效果

## 使用说明

1. **状态筛选**：点击状态下拉框选择要筛选的状态
2. **日期筛选**：选择开始和结束日期来限定时间范围
3. **清除筛选**：点击"清除筛选"按钮重置所有条件
4. **组合筛选**：可以同时使用多个筛选条件

## 测试建议

1. 测试单个筛选条件
2. 测试多个筛选条件组合
3. 测试清除筛选功能
4. 测试筛选后的分页功能
5. 测试搜索和筛选的组合使用
6. 测试移动端响应式效果

## 兼容性

- 与现有的搜索功能完全兼容
- 与排序和分页功能正常配合
- 不影响现有的权限控制逻辑
- 保持向后兼容性